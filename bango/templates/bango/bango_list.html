{% extends 'bango/base.html' %}
{% block header %}
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">  
{% endblock %}
{% block title %}
    背番号リスト
{% endblock %}

{% block content %}
<script language="JavaScript" type="text/javascript">
function allcheck( tf ) {
   var ElementsCount = document.labels.elements.length; // チェックボックスの数
   for( i=0 ; i<ElementsCount ; i++ ) {
      document.labels.elements[i].checked = tf; // ON・OFFを切り替え
   }
}
 </script>
   <a class="btn btn-default" href="{% url 'label_delete_all'  %}">ラベル作成クリア</a>

	<form action="" method="get">
        コード:<input name="cquery" value="{{ request.GET.cquery }}" type="text">
        背番号:<input name="sequery" value="{{ request.GET.sequery }}" type="text">
        仕入先コード:<input name="scquery" value="{{ request.GET.scquery }}" type="text">
        仕入先名:<input name="snquery" value="{{ request.GET.snquery }}" type="text">
        <button type="submit">検索する</button>
    </form>
	<form name="labels" action="" method="post">
    <table class="table-light table-striped" border="1">
	    <thead>
        <tr>
            <th>コード</th>
            <th>背番号</th>
            <th>仕入先コード</th>
            <th>仕入先名</th>
            <th>ラベル作成
<input type="button" value="全部ON！" onclick="allcheck(true);">
   <input type="button" value="全部OFF！" onclick="allcheck(false);">
	    </th>
        </tr>
	    </thead>
        {% for bango in bango_list %}
        <tr>
            <td>{{ bango.hcode }}</td>
            <td>{{ bango.se }}</td>
            <td>{{ bango.shiire.scode }}</td>
            <td>{{ bango.shiire.sname }}</td>
	    <td>
		<input type="checkbox" name="label" value="{{ bango.pk }}">
        </td>

        </tr>
        {% endfor %}
    </table>
    {% csrf_token %}
    <button type="submit">ラベル作成</button>
	</form>
{% endblock %}
